import numpy as np
import matplotlib.pyplot as plt


def f1(i, p):
    return p * i / np.log(2)


def f2(i, p):
    return np.log(1 / (1 - p)**(i - 1)) / np.log(2) + 1


def f3(p):
    return -np.log(1 - p)


x = np.arange(50)
p = 0.5  # np.linspace(0.01, 0.99)

# plt.plot(x, f1(x, p))
# plt.plot(x, f2(x, p))
# plt.plot(p, f3(p), label="-log(1-p)")
# plt.plot(p, p, label="p")
# plt.legend()
# plt.show()

expr1 = -(x - 1) * np.log(1 - p) / np.log(2)
expr2 = -np.log((1 - p)**(x - 1))
print(np.all(expr1 <= expr2))
